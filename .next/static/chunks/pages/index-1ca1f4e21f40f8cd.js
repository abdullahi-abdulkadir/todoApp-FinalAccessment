(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9468)}])},9468:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(7876),a=r(4232);let i=(0,r(4256).UU)("https://kbhqsubwzfncerodjfuq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtiaHFzdWJ3emZuY2Vyb2RqZnVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5NjExMDYsImV4cCI6MjA3NjUzNzEwNn0.YzQpXjjKhjyc_uqh3B_YZPf5ZlREpySHVWAy5Gz6AOQ");var n=r(2987),l=r(7137),o=r(5565);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});c.displayName="Button";let u=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});u.displayName="Input";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});m.displayName="Card";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...a})});p.displayName="CardHeader";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});f.displayName="CardTitle";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});g.displayName="CardDescription";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...a})});h.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var x=r(9773);let b=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(x.b,{ref:t,className:(0,o.cn)(b(),r),...a})});v.displayName=x.b.displayName;var y=r(1810),j=r(7969);let N=j.bL,w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.B8,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});w.displayName=j.B8.displayName;let k=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.l9,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),...a})});k.displayName=j.l9.displayName;let C=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.UC,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});C.displayName=j.UC.displayName;let S=()=>{let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1),{toast:d}=(0,y.dj)(),x=async s=>{s.preventDefault(),o(!0),encodeURI("".concat(window.location.origin,"/"));let{error:a}=await i.auth.signUp({email:e,password:r,options:{emailRedirectTo:"http://localhost:3000/"}});a?d({title:"Error",description:a.message,variant:"destructive"}):(d({title:"Success!",description:"Check your email to confirm your account."}),t(""),n("")),o(!1)},b=async t=>{t.preventDefault(),o(!0);let{error:s}=await i.auth.signInWithPassword({email:e,password:r});s?d({title:"Error",description:s.message,variant:"destructive"}):d({title:"Welcome back!",description:"You've successfully signed in."}),o(!1)};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary via-primary-glow to-accent p-4",children:(0,s.jsxs)(m,{className:"w-full max-w-md shadow-2xl border-0",children:[(0,s.jsxs)(p,{className:"space-y-1",children:[(0,s.jsx)(f,{className:"text-3xl font-bold text-center bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"TaskFlow"}),(0,s.jsx)(g,{className:"text-center",children:"Your personal productivity companion"})]}),(0,s.jsx)(h,{children:(0,s.jsxs)(N,{defaultValue:"signin",className:"w-full",children:[(0,s.jsxs)(w,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(k,{value:"signin",children:"Sign In"}),(0,s.jsx)(k,{value:"signup",children:"Sign Up"})]}),(0,s.jsx)(C,{value:"signin",children:(0,s.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(v,{htmlFor:"signin-email",children:"Email"}),(0,s.jsx)(u,{id:"signin-email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value),required:!0,disabled:l})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(v,{htmlFor:"signin-password",children:"Password"}),(0,s.jsx)(u,{id:"signin-password",type:"password",placeholder:"••••••••",value:r,onChange:e=>n(e.target.value),required:!0,disabled:l})]}),(0,s.jsx)(c,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",disabled:l,children:l?"Signing in...":"Sign In"})]})}),(0,s.jsx)(C,{value:"signup",children:(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(v,{htmlFor:"signup-email",children:"Email"}),(0,s.jsx)(u,{id:"signup-email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value),required:!0,disabled:l})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(v,{htmlFor:"signup-password",children:"Password"}),(0,s.jsx)(u,{id:"signup-password",type:"password",placeholder:"••••••••",value:r,onChange:e=>n(e.target.value),required:!0,disabled:l})]}),(0,s.jsx)(c,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",disabled:l,children:l?"Creating account...":"Sign Up"})]})})]})})]})})};var E=r(9459),I=r(2257);let _=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(E.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,s.jsx)(E.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(I.A,{className:"h-4 w-4"})})})});_.displayName=E.bL.displayName;var R=r(5818),z=r(383),F=r(8249),A=r(3038),q=r(3536);let U=e=>{let{user:t}=e,[r,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[h,x]=(0,a.useState)(""),{toast:b}=(0,y.dj)(),v=(0,a.useCallback)(async()=>{let{data:e,error:t}=await i.from("todos").select("*").order("created_at",{ascending:!1});t?b({title:"Error",description:"Failed to fetch todos",variant:"destructive"}):n(e||[])},[b,n]);(0,a.useEffect)(()=>{v()},[v]);let j=async e=>{if(e.preventDefault(),!l.trim())return;p(!0);let{error:r}=await i.from("todos").insert({title:l,user_id:t.id,completed:!1});r?b({title:"Error",description:r.message,variant:"destructive"}):(o(""),v()),p(!1)},N=async(e,t)=>{let{error:r}=await i.from("todos").update({completed:!t}).eq("id",e);r?b({title:"Error",description:r.message,variant:"destructive"}):v()},w=async e=>{let{error:t}=await i.from("todos").delete().eq("id",e);t?b({title:"Error",description:t.message,variant:"destructive"}):(v(),b({title:"Deleted",description:"Todo removed successfully"}))},k=()=>{g(null),x("")},C=async e=>{if(!h.trim())return void k();let{error:t}=await i.from("todos").update({title:h}).eq("id",e);t?b({title:"Error",description:t.message,variant:"destructive"}):(v(),k(),b({title:"Updated",description:"Todo updated successfully"}))},S=async()=>{await i.auth.signOut()};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-primary-glow/5 to-accent/5 p-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"TaskFlow"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:t.email})]}),(0,s.jsxs)(c,{variant:"outline",onClick:S,className:"gap-2",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),"Sign Out"]})]}),(0,s.jsx)(m,{className:"p-6 mb-6 shadow-lg border-0 bg-card/50 backdrop-blur",children:(0,s.jsxs)("form",{onSubmit:j,className:"flex gap-2",children:[(0,s.jsx)(u,{placeholder:"What needs to be done?",value:l,onChange:e=>o(e.target.value),disabled:d,className:"flex-1"}),(0,s.jsxs)(c,{type:"submit",disabled:d,className:"gap-2 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[(0,s.jsx)(z.A,{className:"h-4 w-4"}),"Add"]})]})}),(0,s.jsx)("div",{className:"space-y-3",children:0===r.length?(0,s.jsx)(m,{className:"p-8 text-center shadow-lg border-0 bg-card/50 backdrop-blur",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No todos yet. Add one to get started!"})}):r.map(e=>(0,s.jsxs)(m,{className:"p-4 flex items-center gap-3 group hover:shadow-xl transition-all duration-300 border-0 bg-card/50 backdrop-blur",children:[(0,s.jsx)(_,{checked:e.completed,onCheckedChange:()=>N(e.id,e.completed),className:"data-[state=checked]:bg-accent data-[state=checked]:border-accent",disabled:f===e.id}),f===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{value:h,onChange:e=>x(e.target.value),onKeyDown:t=>{"Enter"===t.key&&C(e.id),"Escape"===t.key&&k()},className:"flex-1",autoFocus:!0}),(0,s.jsx)(c,{variant:"ghost",size:"icon",onClick:()=>C(e.id),className:"hover:text-accent",children:(0,s.jsx)(I.A,{className:"h-4 w-4"})}),(0,s.jsx)(c,{variant:"ghost",size:"icon",onClick:k,className:"hover:text-destructive",children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1 ".concat(e.completed?"line-through text-muted-foreground":"text-foreground"),children:e.title}),(0,s.jsx)(c,{variant:"ghost",size:"icon",onClick:()=>{var t,r;return t=e.id,r=e.title,void(g(t),x(r))},className:"opacity-0 group-hover:opacity-100 transition-opacity hover:text-accent",children:(0,s.jsx)(A.A,{className:"h-4 w-4"})}),(0,s.jsx)(c,{variant:"ghost",size:"icon",onClick:()=>w(e.id),className:"opacity-0 group-hover:opacity-100 transition-opacity hover:text-destructive",children:(0,s.jsx)(q.A,{className:"h-4 w-4"})})]})]},e.id))}),r.length>0&&(0,s.jsxs)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[r.filter(e=>!e.completed).length," of ",r.length," tasks remaining"]})]})})},D=()=>{let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let{data:{subscription:e}}=i.auth.onAuthStateChange((e,r)=>{var s;n(r),t(null!=(s=null==r?void 0:r.user)?s:null),o(!1)});return i.auth.getSession().then(e=>{var r;let{data:{session:s}}=e;n(s),t(null!=(r=null==s?void 0:s.user)?r:null),o(!1)}),()=>e.unsubscribe()},[]),l)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-primary/5 via-primary-glow/5 to-accent/5",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):e?(0,s.jsx)(U,{user:e}):(0,s.jsx)(S,{})}}},e=>{e.O(0,[236,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);